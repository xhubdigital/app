"use strict";(globalThis["webpackChunkhub4u_menu"]=globalThis["webpackChunkhub4u_menu"]||[]).push([[364],{7672:(e,t,a)=>{a.r(t),a.d(t,{default:()=>lt});var o=a(2444),r=a(4044);const i={class:"full-height column"},n={class:"header flex items-center q-pa-md"},l={class:"title text-bold"},c={class:"cart-overview q-pa-md q-col-gutter-md"},s={class:"order-type"},d={class:"q-pb-md"},u={class:"col-auto q-pr-md"},m={class:"col"},p={class:"text-bold"},v={class:"items-list"},h={class:"summary"},b={class:"subtotal flex"},f={class:"label"},g={key:0,class:"service-fee flex"},y={class:"label"},O={key:0},C={key:1},D={class:"total flex"},I={class:"label"},A={key:0,class:"empty-payment-method"},E={key:1,class:"q-pa-sm row items-center q-col-gutter-sm"},Q={class:"col-auto"},P={class:"col"},k={class:"text-bold"},_={class:"payment-method-value"},S={key:0,class:"flex flex-center no-wrap"},T={class:"on-left"},w={class:"footer"},q={class:"q-pa-md q-col-gutter-md"};function W(e,t,a,W,j,M){const R=(0,o.E1)("q-btn"),$=(0,o.E1)("q-separator"),z=(0,o.E1)("q-btn-toggle"),N=(0,o.E1)("q-avatar"),x=(0,o.E1)("cart-item"),K=(0,o.E1)("q-space"),F=(0,o.E1)("q-skeleton"),L=(0,o.E1)("q-icon"),Y=(0,o.E1)("q-scroll-area");return(0,o.Wz)(),(0,o.An)("div",i,[(0,o.QD)("div",n,[(0,o.K2)(R,{icon:"mdi-arrow-left",unelevated:"",size:"sm",color:"green","text-color":"white",round:"",to:"/menu"}),(0,o.QD)("div",l,(0,r.WA)(e.$t("Sacola")),1)]),(0,o.K2)($),(0,o.K2)(Y,{class:"scroll-area"},{default:(0,o.Ql)((()=>[(0,o.QD)("div",c,[(0,o.QD)("div",s,[(0,o.QD)("div",d,[(0,o.K2)(z,{unelevated:"",spread:"","no-caps":"","toggle-color":"primary",color:"grey-3","text-color":"black",options:e.orderTypeOptions,"model-value":e.activeCart.type,"onUpdate:modelValue":e.updateOrderType},null,8,["options","model-value","onUpdate:modelValue"])]),(0,o.QD)("div",{class:"row items-center cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.openAddressField&&e.openAddressField(...t))},[(0,o.QD)("div",u,[(0,o.K2)(N,{color:"primary","text-color":"white",icon:e.addressFieldIcon},null,8,["icon"])]),(0,o.QD)("div",m,[(0,o.QD)("div",null,(0,r.WA)(e.addressFieldLabel),1),(0,o.QD)("div",p,(0,r.WA)(e.address),1)])])]),(0,o.QD)("div",v,[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e.activeCart.items,((t,a)=>((0,o.Wz)(),(0,o.Az)(x,{key:a,"cart-item":t,index:a,onEdit:e.onEditCartItem,onDelete:e.onDeleteCartItem},null,8,["cart-item","index","onEdit","onDelete"])))),128)),(0,o.K2)(R,{flat:"","no-caps":"",color:"primary",class:"full-width",label:"Adicionar mais itens",to:"/menu"})]),(0,o.QD)("div",h,[(0,o.QD)("div",b,[(0,o.QD)("div",f,(0,r.WA)(e.$t("Subtotal")),1),(0,o.K2)(K),(0,o.QD)("div",null,(0,r.WA)(e.$n(e.subTotal,"currency")),1)]),-1!==e.serviceFee?((0,o.Wz)(),(0,o.An)("div",g,[(0,o.QD)("div",y,(0,r.WA)(e.isDelivery?e.$t("Taxa de entrega"):e.$t("Taxa de serviço")),1),(0,o.K2)(K),e.serviceInfoLoading?((0,o.Wz)(),(0,o.An)("div",O,[(0,o.K2)(F,{width:"80px"})])):((0,o.Wz)(),(0,o.An)("div",C,(0,r.WA)(e.serviceFee?e.$n(e.serviceFee,"currency"):e.$t("Grátis")),1))])):(0,o.g1)("",!0),(0,o.QD)("div",D,[(0,o.QD)("div",I,(0,r.WA)(e.$t("Total")),1),(0,o.K2)(K),(0,o.QD)("div",null,(0,r.WA)(e.$n(e.total,"currency")),1)])]),(0,o.QD)("div",null,[(0,o.QD)("div",{class:"payment-method",onClick:t[1]||(t[1]=(...t)=>e.openPaymentMethodDialog&&e.openPaymentMethodDialog(...t))},[null===e.activeCart.paymentInfo?((0,o.Wz)(),(0,o.An)("div",A,[(0,o.K2)(L,{class:"q-pr-sm",name:"mdi-cash",size:"md"}),(0,o.mY)(" "+(0,r.WA)(e.$t("Selecionar método de pagamento")),1)])):((0,o.Wz)(),(0,o.An)("div",E,[(0,o.QD)("div",Q,[(0,o.K2)(N,{color:"positive","text-color":"white",icon:e.selectedPaymentTypeData.icon},null,8,["icon"])]),(0,o.QD)("div",P,[(0,o.QD)("div",k,(0,r.WA)(e.$t("Pagamento")),1),(0,o.QD)("div",_,[(0,o.mY)((0,r.WA)(e.selectedPaymentTypeData.label)+" ",1),"money-on-delivery"===e.activeCart.paymentInfo.type?((0,o.Wz)(),(0,o.An)(o.ae,{key:0},[(0,o.mY)((0,r.WA)(e.$t(" - "))+" ",1),e.activeCart.paymentInfo.changeFor?((0,o.Wz)(),(0,o.An)(o.ae,{key:0},[(0,o.mY)((0,r.WA)(e.$t("Troco para"))+" "+(0,r.WA)(e.$n(e.activeCart.paymentInfo.changeFor,"currency")),1)],64)):((0,o.Wz)(),(0,o.An)(o.ae,{key:1},[(0,o.mY)((0,r.WA)(e.$t("Sem troco")),1)],64))],64)):(0,o.g1)("",!0)])])]))])]),e.user?(0,o.g1)("",!0):((0,o.Wz)(),(0,o.An)("div",S,[(0,o.QD)("div",T,[(0,o.K2)(L,{size:"32px",name:"mdi-alert-circle"})]),(0,o.QD)("div",null,(0,r.WA)(e.$t("cart.notAuthenticatedWarning")),1)]))])])),_:1}),(0,o.QD)("div",w,[(0,o.QD)("div",q,[(0,o.QD)("div",null,[(0,o.K2)(R,{class:"full-width q-py-md",color:e.submitButtonColor,unelevated:"","no-caps":"",loading:e.makingOrder,onClick:e.submitButtonAction},{default:(0,o.Ql)((()=>[(0,o.QD)("div",null,(0,r.WA)(e.submitButtonLabel),1)])),_:1},8,["color","loading","onClick"])])])])])}var j=a(1144),M=a(284),R=a(8528),$=a(9952),z=a(3400),N=a(5704),x=a(1140);const K={class:"item row"},F={class:"col self-center"},L={class:"label"},Y={class:"complements"},V={key:0,class:"observations"},U={class:"col-auto"};function B(e,t,a,i,n,l){const c=(0,o.E1)("complement-item"),s=(0,o.E1)("q-icon"),d=(0,o.E1)("q-item-section"),u=(0,o.E1)("q-item"),m=(0,o.E1)("q-list"),p=(0,o.E1)("q-menu"),v=(0,o.E1)("q-btn"),h=(0,o.iS)("close-popup");return(0,o.Wz)(),(0,o.An)("div",K,[(0,o.QD)("div",F,[(0,o.QD)("div",L,(0,r.WA)(`${e.cartItem.quantity} x ${e.cartItem.product.label}`),1),(0,o.QD)("div",Y,[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e.complements,((e,t)=>((0,o.Wz)(),(0,o.Az)(c,{key:t,complement:e},null,8,["complement"])))),128))]),e.cartItem.observations?((0,o.Wz)(),(0,o.An)("div",V,(0,r.WA)(e.$t("Observações:")+`${e.cartItem.observations}`),1)):(0,o.g1)("",!0)]),(0,o.QD)("div",U,[(0,o.K2)(v,{icon:"mdi-dots-horizontal",round:"",flat:"",color:"primary"},{default:(0,o.Ql)((()=>[(0,o.K2)(p,null,{default:(0,o.Ql)((()=>[(0,o.K2)(m,null,{default:(0,o.Ql)((()=>[(0,o.wt)(((0,o.Wz)(),(0,o.Az)(u,{clickable:"",onClick:e.editItem},{default:(0,o.Ql)((()=>[(0,o.K2)(d,{avatar:""},{default:(0,o.Ql)((()=>[(0,o.K2)(s,{name:"mdi-pencil"})])),_:1}),(0,o.K2)(d,null,{default:(0,o.Ql)((()=>[(0,o.mY)((0,r.WA)(e.$t("Alterar")),1)])),_:1})])),_:1},8,["onClick"])),[[h]]),(0,o.wt)(((0,o.Wz)(),(0,o.Az)(u,{clickable:"",onClick:e.deleteItem},{default:(0,o.Ql)((()=>[(0,o.K2)(d,{avatar:""},{default:(0,o.Ql)((()=>[(0,o.K2)(s,{name:"mdi-delete"})])),_:1}),(0,o.K2)(d,null,{default:(0,o.Ql)((()=>[(0,o.mY)((0,r.WA)(e.$t("Remover")),1)])),_:1})])),_:1},8,["onClick"])),[[h]])])),_:1})])),_:1})])),_:1})])])}var G=a(2564);const H={class:"complement-item"},Z={key:0};function J(e,t,a,i,n,l){return(0,o.Wz)(),(0,o.An)("div",H,[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e.complementValues,((t,a)=>((0,o.Wz)(),(0,o.An)("div",{key:a},[(0,o.QD)("div",null,[e.isRepeatOption?((0,o.Wz)(),(0,o.An)("span",Z,(0,r.WA)(`${t.quantity}x `),1)):(0,o.g1)("",!0),(0,o.mY)(" "+(0,r.WA)(`${t.complementGroupOption.label}`),1)])])))),128))])}var X=function(e,t,a,o){var r,i=arguments.length,n=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,a,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(n=(i<3?r(n):i>3?r(t,a,n):r(t,a))||n);return i>3&&n&&Object.defineProperty(t,a,n),n};let ee=class extends j.cr{constructor(){super(...arguments),Object.defineProperty(this,"complement",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get isRepeatOption(){const{multiple:e,repeatOption:t}=this.complement.complementGroup;return e&&t}get complementValues(){return(0,$.IFD)((e=>e.quantity>0),(0,$.myA)(this.complement.values))}};X([(0,G.e)({required:!0})],ee.prototype,"complement",void 0),ee=X([(0,j.Zq)({components:{}})],ee);const te=ee;var ae=a(8716);const oe=(0,ae.c)(te,[["render",J],["__scopeId","data-v-00711732"]]),re=oe;var ie=function(e,t,a,o){var r,i=arguments.length,n=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,a,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(n=(i<3?r(n):i>3?r(t,a,n):r(t,a))||n);return i>3&&n&&Object.defineProperty(t,a,n),n};let ne=class extends j.cr{constructor(){super(...arguments),Object.defineProperty(this,"cartItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get complements(){return(0,$.myA)(this.cartItem.complements)}editItem(){this.$emit("edit",this.cartItem,this.index)}deleteItem(){this.$emit("delete",this.cartItem,this.index)}};ie([(0,G.e)({required:!0})],ne.prototype,"cartItem",void 0),ie([(0,G.e)({required:!0})],ne.prototype,"index",void 0),ne=ie([(0,j.Zq)({components:{ComplementItem:re}})],ne);const le=ne;var ce=a(9140),se=a(8272),de=a(9588),ue=a(4884),me=a(1032),pe=a(8120),ve=a(1020),he=a(5252),be=a.n(he);const fe=(0,ae.c)(le,[["render",B],["__scopeId","data-v-2c11f1d5"]]),ge=fe;be()(le,"components",{QBtn:ce.c,QMenu:se.c,QList:de.c,QItem:ue.c,QItemSection:me.c,QIcon:pe.c}),be()(le,"directives",{ClosePopup:ve.c});const ye={class:"q-pl-sm"},Oe={key:0,class:"row q-pt-md q-col-gutter-md items-center"},Ce={class:"col"},De={class:"col-auto"};function Ie(e,t,a,i,n,l){const c=(0,o.E1)("q-card-section"),s=(0,o.E1)("q-icon"),d=(0,o.E1)("q-item"),u=(0,o.E1)("q-list"),m=(0,o.E1)("currency-input"),p=(0,o.E1)("q-checkbox"),v=(0,o.E1)("q-btn"),h=(0,o.E1)("q-separator"),b=(0,o.E1)("q-space"),f=(0,o.E1)("q-card"),g=(0,o.E1)("q-dialog");return(0,o.Wz)(),(0,o.Az)(g,{ref:"dialogRef",onHide:e.hide},{default:(0,o.Ql)((()=>[(0,o.K2)(f,{class:"payment-method-picker"},{default:(0,o.Ql)((()=>[(0,o.K2)(c,{class:"header"},{default:(0,o.Ql)((()=>[(0,o.mY)((0,r.WA)(e.$t("Selecionar método de pagamento")),1)])),_:1}),(0,o.K2)(c,null,{default:(0,o.Ql)((()=>[(0,o.K2)(u,{class:"options q-gutter-sm"},{default:(0,o.Ql)((()=>[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e.options,(t=>((0,o.Wz)(),(0,o.Az)(d,{key:t.value,class:(0,r.WN)(["option flex items-center",{active:t.value===e.paymentMethodSelected}]),clickable:"",onClick:a=>e.selectPaymentMethod(t.value)},{default:(0,o.Ql)((()=>[(0,o.K2)(s,{name:t.icon,size:"md"},null,8,["name"]),(0,o.QD)("div",ye,(0,r.WA)(t.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),e.isMoney?((0,o.Wz)(),(0,o.An)("div",Oe,[(0,o.QD)("div",Ce,[(0,o.K2)(m,{modelValue:e.changeFor,"onUpdate:modelValue":t[0]||(t[0]=t=>e.changeFor=t),label:"Troco para",autofocus:"",disable:e.dontNeedChange},null,8,["modelValue","disable"])]),(0,o.QD)("div",De,[(0,o.K2)(v,{flat:"","no-caps":"",dense:"",color:"negative",label:"Não preciso de troco",tag:"label",onClick:e.toggleDontNeedChange},{default:(0,o.Ql)((()=>[(0,o.K2)(p,{modelValue:e.dontNeedChange,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dontNeedChange=t),color:"negative"},null,8,["modelValue"])])),_:1},8,["onClick"])])])):(0,o.g1)("",!0)])),_:1}),(0,o.K2)(h),(0,o.K2)(c,{class:"actions flex"},{default:(0,o.Ql)((()=>[(0,o.K2)(v,{flat:"","no-caps":"",label:"Cancelar",onClick:e.hide},null,8,["onClick"]),(0,o.K2)(b),(0,o.K2)(v,{color:"positive","no-caps":"",unelevated:"",label:"Selecionar",disable:null===e.paymentMethodSelected,onClick:e.savePaymentMethod},null,8,["disable","onClick"])])),_:1})])),_:1})])),_:1},8,["onHide"])}var Ae=a(6172);function Ee(e,t){const a=(0,o.E1)("q-input");return(0,o.Wz)(),(0,o.Az)(a,(0,o.Gu)(e.$props,{inputmode:"numeric",prefix:"R$",mask:"#.##","fill-mask":"0","reverse-fill-mask":""}),(0,o.QP)({_:2},[(0,o.mi)(e.$slots,((t,a)=>({name:a,fn:(0,o.Ql)((t=>[(0,o.oF)(e.$slots,a,(0,r.Gk)((0,o.o9)(t)))]))})))]),1040)}var Qe=a(6552);const Pe={},ke=(0,ae.c)(Pe,[["render",Ee]]),_e=ke;be()(Pe,"components",{QInput:Qe.c});var Se=function(e,t,a,o){var r,i=arguments.length,n=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,a,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(n=(i<3?r(n):i>3?r(t,a,n):r(t,a))||n);return i>3&&n&&Object.defineProperty(t,a,n),n};let Te=class extends j.cr{constructor(){super(...arguments),Object.defineProperty(this,"dialogRef",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"paymentMethodSelected",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"changeFor",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"dontNeedChange",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get options(){return[{label:"Cartão de crédito",icon:"mdi-credit-card",value:z.gn.CreditCardOnDelivery},{label:"Cartão de débido",icon:"mdi-credit-card",value:z.gn.DebitCardOnDelivery},{label:"Dinheiro",icon:"mdi-cash",value:z.gn.MoneyOnDelivery}]}get isMoney(){return this.paymentMethodSelected===z.gn.MoneyOnDelivery}show(){this.dialogRef.show()}hide(){this.dialogRef.hide()}selectPaymentMethod(e){this.paymentMethodSelected=e}savePaymentMethod(){this.$emit("ok",{type:this.paymentMethodSelected,paymentOnDelivery:!0,changeFor:this.isMoney&&!this.dontNeedChange?Number(this.changeFor):void 0}),this.hide()}toggleDontNeedChange(){this.dontNeedChange=!this.dontNeedChange}};Se([(0,Ae._)()],Te.prototype,"dialogRef",void 0),Te=Se([(0,j.Zq)({components:{CurrencyInput:_e}})],Te);const we=Te;var qe=a(704),We=a(608),je=a(1008),Me=a(8488),Re=a(880),$e=a(1075);const ze=(0,ae.c)(we,[["render",Ie],["__scopeId","data-v-260caddc"]]),Ne=ze;be()(we,"components",{QDialog:qe.c,QCard:We.c,QCardSection:je.c,QList:de.c,QItem:ue.c,QIcon:pe.c,QBtn:ce.c,QCheckbox:Me.c,QSeparator:Re.c,QSpace:$e.c});var xe=a(3636);const Ke={class:"content"};function Fe(e,t,a,r,i,n){const l=(0,o.E1)("product-page"),c=(0,o.E1)("q-dialog");return(0,o.Wz)(),(0,o.Az)(c,{ref:"dialogRef",class:"right-side-dialog",onHide:e.hide},{default:(0,o.Ql)((()=>[(0,o.QD)("div",Ke,[(0,o.K2)(l,{item:e.edittingCartItem,"onUpdate:item":t[0]||(t[0]=t=>e.edittingCartItem=t),product:e.cartItem.product,onSave:e.onSaveItemToCart,onClose:e.hide},null,8,["item","product","onSave","onClose"])])])),_:1},8,["onHide"])}var Le=a(7456),Ye=function(e,t,a,o){var r,i=arguments.length,n=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,a,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(n=(i<3?r(n):i>3?r(t,a,n):r(t,a))||n);return i>3&&n&&Object.defineProperty(t,a,n),n};let Ve=class extends j.cr{constructor(){super(...arguments),Object.defineProperty(this,"dialogRef",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cartItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"edittingCartItem",{enumerable:!0,configurable:!0,writable:!0,value:null})}created(){this.edittingCartItem=(0,$.ctR)(this.cartItem)}show(){this.dialogRef.show()}hide(){this.dialogRef.hide()}onSaveItemToCart(){this.$emit("ok",this.edittingCartItem),this.hide()}};Ye([(0,Ae._)()],Ve.prototype,"dialogRef",void 0),Ye([(0,G.e)({required:!0})],Ve.prototype,"cartItem",void 0),Ve=Ye([(0,j.Zq)({components:{ProductPage:Le.c}})],Ve);const Ue=Ve,Be=(0,ae.c)(Ue,[["render",Fe]]),Ge=Be;be()(Ue,"components",{QDialog:qe.c});var He=function(e,t,a,o){var r,i=arguments.length,n=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,a,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(n=(i<3?r(n):i>3?r(t,a,n):r(t,a))||n);return i>3&&n&&Object.defineProperty(t,a,n),n},Ze=function(e,t,a,o){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function n(e){try{c(o.next(e))}catch(t){i(t)}}function l(e){try{c(o["throw"](e))}catch(t){i(t)}}function c(e){e.done?a(e.value):r(e.value).then(n,l)}c((o=o.apply(e,t||[])).next())}))};const Je={[z.gn.CreditCardOnDelivery]:{label:"Cartão de crédito",icon:"mdi-credit-card"},[z.gn.DebitCardOnDelivery]:{label:"Cartão de débito",icon:"mdi-credit-card"},[z.gn.MoneyOnDelivery]:{label:"Dinheiro",icon:"mdi-cash"}},Xe={STORE_CLOSED:"storeClosedError",ITEM_OUT_OF_STOCK:"itemOutOfStockError",COMPLEMENT_OPTION_DISABLED:"complementOptionDisabledError"};let et=class extends j.cr{constructor(){super(...arguments),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isStoreOpen",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serviceInfoLoading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"activeCart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subTotal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serviceFee",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"total",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"productsMapping",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"loadStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"loadProductCategories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clearCart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"saveItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"removeItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"updateOrderType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"updatePaymentMethod",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"makingOrder",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get firstCartPendency(){const{address:e,type:t,paymentInfo:a}=this.activeCart;return e||t!==z.aO.Delivery?-1===this.serviceFee?"OUT_OF_DELIVERY_AREA":this.user?a?"NO_PENDENCY":"MISSING_PAYMENT_METHOD":"NOT_AUTHENTICATED":"MISSING_ADDRESS"}get submitButtonColor(){return"OUT_OF_DELIVERY_AREA"===this.firstCartPendency?"negative":"positive"}get submitButtonLabel(){return{MISSING_ADDRESS:"Selecione o endereço para entrega",OUT_OF_DELIVERY_AREA:"Fora da área de entrega",NOT_AUTHENTICATED:"Acessar minha conta",MISSING_PAYMENT_METHOD:"Selecione o método de pagamento",INCOMPLETE_USER_DATA:"Informe seus dados pessoais",NO_PENDENCY:"Realizar pedido"}[this.firstCartPendency]}get orderTypeOptions(){return[{label:"Entrega",value:z.aO.Delivery},{label:"Retirada",value:z.aO.Takeout},{label:"Consumir no local",value:z.aO.Local}]}get addressFieldIcon(){return{[z.aO.Delivery]:"mdi-map-marker",[z.aO.Takeout]:"mdi-walk",[z.aO.Local]:"mdi-store"}[this.activeCart.type]}get addressFieldLabel(){return{[z.aO.Delivery]:"Entregar em",[z.aO.Takeout]:"Retirar em",[z.aO.Local]:"Consumir em"}[this.activeCart.type]}get isDelivery(){return this.activeCart.type===z.aO.Delivery}get address(){return this.isDelivery?this.activeCart.address?(0,N.S)(this.activeCart.address):"Selecionar um endereço para entrega":(0,N.S)(this.store.address)}get selectedPaymentTypeData(){return this.activeCart.paymentInfo?Je[this.activeCart.paymentInfo.type]:{label:"",icon:""}}onChangeCartItems(){this.checkRedirect()}mounted(){this.checkRedirect()}checkRedirect(){0!==this.activeCart.items.length&&this.isStoreOpen||this.$router.push("/menu")}openAddressField(){this.activeCart.type===z.aO.Delivery&&this.$q.dialog({component:xe.c,componentProps:{class:"dialog",position:this.$q.screen.lt.sm?"bottom":"right",maximized:!0,"full-height":!0}})}openPaymentMethodDialog(){this.$q.dialog({component:Ne}).onOk(this.updatePaymentMethod)}redirectToAuthPage(){this.$router.push("/sign-in")}makeOrder(){return Ze(this,void 0,void 0,(function*(){try{this.makingOrder=!0;const e=yield(0,x.CD)(this.activeCart,this.user);e.id&&(yield this.$router.push(`/order/${e.id}`),this.clearCart()),this.makingOrder=!1}catch(e){const t="cart.notifications",a=(0,$.un)("",["response","data","message"],e),o=(0,$.un)("makeOrderGenericError",[a],Xe),r=this.buildErrorMetaObj(a,e);switch(console.log({meta:r}),this.$q.notify({type:"negative",message:this.$t(`${t}.${o}.message`,r),caption:this.$t(`${t}.${o}.caption`,r)}),a){case"STORE_CLOSED":this.loadStore();break;case"ITEM_OUT_OF_STOCK":this.loadProductCategories();break;case"COMPLEMENT_OPTION_DISABLED":this.loadProductCategories();break}}finally{this.makingOrder=!1}}))}buildErrorMetaObj(e,t){const a=(0,$.kZu)(["response","data","meta","productId"],t);switch(e){case"COMPLEMENT_OPTION_DISABLED":return{product:(0,$.kZu)([a,"label"],this.productsMapping)};default:return{}}}submitButtonAction(){switch(this.firstCartPendency){case"MISSING_ADDRESS":return this.openAddressField();case"MISSING_PAYMENT_METHOD":return this.openPaymentMethodDialog();case"NOT_AUTHENTICATED":return this.redirectToAuthPage();case"NO_PENDENCY":return this.makeOrder()}}onEditCartItem(e,t){this.$q.dialog({component:Ge,componentProps:{cartItem:e,class:"dialog",position:this.$q.screen.lt.sm?"bottom":"right",maximized:!0,"full-height":!0}}).onOk((e=>{this.saveItem({cartItem:e,index:t})}))}onDeleteCartItem(e,t){this.removeItem(t)}};He([(0,M.e)("activeCart.items")],et.prototype,"onChangeCartItems",null),et=He([(0,j.Zq)({components:{CartItem:ge},computed:Object.assign(Object.assign(Object.assign(Object.assign({},(0,R.gV)("store",["store","isStoreOpen"])),(0,R.gV)("cart",["serviceInfoLoading","activeCart","subTotal","serviceFee","total"])),(0,R.gV)("user",["user"])),(0,R.gV)("products",["productsMapping"])),methods:Object.assign(Object.assign(Object.assign(Object.assign({},(0,R.ae)("store",["loadStore"])),(0,R.ae)("products",["loadProductCategories"])),(0,R.ae)("cart",["clearCart","saveItem","removeItem","updateOrderType"])),(0,R.sR)("cart",["updatePaymentMethod"]))})],et);const tt=et;var at=a(308),ot=a(5344),rt=a(3632),it=a(9692);const nt=(0,ae.c)(tt,[["render",W],["__scopeId","data-v-491a842b"]]),lt=nt;be()(tt,"components",{QBtn:ce.c,QSeparator:Re.c,QScrollArea:at.c,QBtnToggle:ot.c,QAvatar:rt.c,QSpace:$e.c,QSkeleton:it.cp,QIcon:pe.c})}}]);
"use strict";(globalThis["webpackChunkhub4u_menu"]=globalThis["webpackChunkhub4u_menu"]||[]).push([[868],{2024:(e,t,r)=>{r.r(t),r.d(t,{default:()=>fe});var i=r(2444);const o={class:"q-col-gutter-md"},a={key:0,class:"flex flex-center"},n={key:1},l={class:"content"};function s(e,t,r,s,c,d){const u=(0,i.E1)("menu-header"),p=(0,i.E1)("q-spinner"),v=(0,i.E1)("products-catalog"),b=(0,i.E1)("q-dialog"),m=(0,i.E1)("router-view"),f=(0,i.E1)("q-page");return(0,i.Wz)(),(0,i.Az)(f,{class:"container q-pa-md q-pa-md-lg"},{default:(0,i.Ql)((()=>[(0,i.QD)("div",o,[(0,i.QD)("div",null,[(0,i.K2)(u)]),(0,i.QD)("div",null,[e.loading?((0,i.Wz)(),(0,i.An)("div",a,[(0,i.K2)(p,{size:"64px",color:e.theme.mainColor},null,8,["color"])])):((0,i.Wz)(),(0,i.An)("div",n,[(0,i.K2)(v,{categories:e.formattedCategories},null,8,["categories"])]))])]),(0,i.K2)(m,null,{default:(0,i.Ql)((({Component:t})=>[(0,i.K2)(b,{class:"right-side-dialog","model-value":e.$route.meta.isDialog,position:e.$q.screen.lt.sm?"bottom":"right",maximized:"","full-height":"","no-route-dismiss":"",onHide:e.redirectToCatalog},{default:(0,i.Ql)((()=>[(0,i.QD)("div",l,[((0,i.Wz)(),(0,i.Az)((0,i.mk)(t)))])])),_:2},1032,["model-value","position","onHide"])])),_:1})])),_:1})}var c=r(1144),d=r(8528),u=r(9952),p=r(4044);const v={class:"q-col-gutter-md"},b={class:"service-info"},m={class:"flex q-col-gutter-sm items-center"},f={key:0},g={key:0},y={class:"service-fee"},h={class:"distance"},A={key:2},O={key:0},Q={key:1,class:"address"};function W(e,t,r,o,a,n){const l=(0,i.E1)("q-item-label"),s=(0,i.E1)("q-item-section"),c=(0,i.E1)("q-item"),d=(0,i.E1)("q-list"),u=(0,i.E1)("q-btn-dropdown"),W=(0,i.E1)("q-skeleton"),D=(0,i.E1)("q-chip"),w=(0,i.E1)("q-icon"),j=(0,i.iS)("close-popup");return(0,i.Wz)(),(0,i.An)("div",v,[(0,i.QD)("div",b,[(0,i.QD)("div",m,[(0,i.QD)("div",null,[(0,i.K2)(u,{color:"primary",label:e.selectedTypeLabel,unelevated:"","menu-anchor":"bottom start","menu-self":"top start"},{default:(0,i.Ql)((()=>[(0,i.K2)(d,null,{default:(0,i.Ql)((()=>[((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(e.orderTypeOptions,(t=>(0,i.wt)(((0,i.Wz)(),(0,i.Az)(c,{key:t.value,clickable:"",onClick:r=>e.updateOrderType(t.value)},{default:(0,i.Ql)((()=>[(0,i.K2)(s,null,{default:(0,i.Ql)((()=>[(0,i.K2)(l,null,{default:(0,i.Ql)((()=>[(0,i.mY)((0,p.WA)(t.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[j]]))),128))])),_:1})])),_:1},8,["label"])]),(0,i.QD)("div",null,(0,p.WA)(e.separator),1),e.serviceInfoLoading?((0,i.Wz)(),(0,i.An)("div",f,[(0,i.K2)(W,{width:"150px"})])):((0,i.Wz)(),(0,i.An)(i.ae,{key:1},[e.isDeliveryWithoutAddress?((0,i.Wz)(),(0,i.An)("div",g,[(0,i.K2)(D,{class:"text-bold q-ma-none",color:"info","text-color":"white"},{default:(0,i.Ql)((()=>[(0,i.mY)((0,p.WA)(e.$t("dashboard.selectDeliveryArea")),1)])),_:1})])):e.isInsideDeliveryArea?((0,i.Wz)(),(0,i.An)(i.ae,{key:1},[(0,i.QD)("div",y,(0,p.WA)(e.serviceFeeLabel),1),(0,i.QD)("div",null,(0,p.WA)(e.separator),1),(0,i.QD)("div",null,(0,p.WA)(`${e.waitingTime} minutos`),1),e.distance>0?((0,i.Wz)(),(0,i.An)(i.ae,{key:0},[(0,i.QD)("div",null,(0,p.WA)(e.separator),1),(0,i.QD)("div",h,(0,p.WA)(`${(e.distance/1e3).toFixed(2)} km`),1)],64)):(0,i.g1)("",!0)],64)):((0,i.Wz)(),(0,i.An)("div",A,[(0,i.K2)(D,{class:"text-bold q-ma-none",color:"negative","text-color":"white"},{default:(0,i.Ql)((()=>[(0,i.mY)((0,p.WA)(e.$t("Fora da área de entrega")),1)])),_:1})]))],64))])]),e.isDelivery?((0,i.Wz)(),(0,i.An)("div",O,[(0,i.QD)("div",{class:"user-address cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.openAddressForm&&e.openAddressForm(...t))},[(0,i.K2)(w,{class:"q-pr-sm",name:"mdi-moped",size:"sm"}),e.cartDeliveryAddress?((0,i.Wz)(),(0,i.An)(i.ae,{key:0},[(0,i.mY)((0,p.WA)(e.cartDeliveryAddress),1)],64)):((0,i.Wz)(),(0,i.An)(i.ae,{key:1},[(0,i.mY)((0,p.WA)(e.$t("menu.selectAddress")),1)],64))])])):((0,i.Wz)(),(0,i.An)("div",Q,[(0,i.K2)(w,{class:"q-pr-sm",name:"mdi-map",size:"sm"}),(0,i.mY)(" "+(0,p.WA)(e.storeAddress),1)]))])}var D=r(5704),w=r(3400),j=r(3636),z=function(e,t,r,i){var o,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(n=(a<3?o(n):a>3?o(t,r,n):o(t,r))||n);return a>3&&n&&Object.defineProperty(t,r,n),n};let k=class extends c.cr{constructor(){super(...arguments),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"activeCart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serviceFee",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"waitingTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distance",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDeliveryWithoutAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isInsideDeliveryArea",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serviceInfoLoading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"separator",{enumerable:!0,configurable:!0,writable:!0,value:"•"}),Object.defineProperty(this,"updateOrderType",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get isDelivery(){return this.activeCart.type===w.aO.Delivery}get serviceFeeLabel(){return this.serviceFee?this.$n(this.serviceFee,"currency"):"Grátis"}get selectedTypeLabel(){return{[w.aO.Delivery]:"Entrega",[w.aO.Takeout]:"Retirada",[w.aO.Local]:"Consumir no local"}[this.activeCart.type]}get orderTypeOptions(){return[{label:"Entrega",value:w.aO.Delivery},{label:"Retirada",value:w.aO.Takeout},{label:"Consumir no local",value:w.aO.Local}]}get storeAddress(){return(0,D.S)(this.store.address)}get cartDeliveryAddress(){const{address:e}=this.activeCart;return e?(0,D.S)(e):null}openAddressForm(){this.$q.dialog({component:j.c,componentProps:{class:"dialog",position:this.$q.screen.lt.sm?"bottom":"right",maximized:!0,"full-height":!0}})}};k=z([(0,c.Zq)({components:{},computed:Object.assign(Object.assign({},(0,d.gV)("cart",["activeCart","serviceFee","waitingTime","distance","isDeliveryWithoutAddress","isInsideDeliveryArea","serviceInfoLoading"])),(0,d.gV)("store",["store"])),methods:Object.assign({},(0,d.ae)("cart",["updateOrderType"]))})],k);const P=k;var q=r(8716),C=r(2764),E=r(9588),x=r(4884),_=r(1032),K=r(2992),T=r(9692),I=r(4256),R=r(8120),$=r(1020),F=r(5252),L=r.n(F);const S=(0,q.c)(P,[["render",W],["__scopeId","data-v-8c89788e"]]),Y=S;L()(P,"components",{QBtnDropdown:C.c,QList:E.c,QItem:x.c,QItemSection:_.c,QItemLabel:K.c,QSkeleton:T.cp,QChip:I.c,QIcon:R.c}),L()(P,"directives",{ClosePopup:$.c});const V={class:"category-label"},H={class:"products"},Z={class:"q-col-gutter-sm"},B={class:"label"},G={class:"description"},M={class:"price"},J={key:0,class:"picture"};function N(e,t,r,o,a,n){const l=(0,i.E1)("q-space"),s=(0,i.E1)("q-img"),c=(0,i.E1)("router-link");return(0,i.Wz)(),(0,i.An)("div",null,[((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(e.categories,(t=>((0,i.Wz)(),(0,i.An)("div",{key:t.id},[(0,i.QD)("div",V,(0,p.WA)(t.label),1),(0,i.QD)("div",H,[((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(t.products,(t=>((0,i.Wz)(),(0,i.Az)(c,{key:t.id,class:"product",to:{name:"product/details",params:{id:t.id}}},{default:(0,i.Ql)((()=>[(0,i.QD)("div",Z,[(0,i.QD)("div",B,(0,p.WA)(t.label),1),(0,i.QD)("div",G,(0,p.WA)(t.description),1),(0,i.QD)("div",M,(0,p.WA)(e.$n(t.price,"currency")),1)]),(0,i.K2)(l),t.picture?((0,i.Wz)(),(0,i.An)("div",J,[(0,i.K2)(s,{src:t.picture,fit:"cover"},null,8,["src"])])):(0,i.g1)("",!0)])),_:2},1032,["to"])))),128))])])))),128))])}var U=r(2564),X=function(e,t,r,i){var o,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(n=(a<3?o(n):a>3?o(t,r,n):o(t,r))||n);return a>3&&n&&Object.defineProperty(t,r,n),n};let ee=class extends c.cr{constructor(){super(...arguments),Object.defineProperty(this,"categories",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}};X([(0,U.e)({required:!0})],ee.prototype,"categories",void 0),ee=X([(0,c.Zq)({components:{}})],ee);const te=ee;var re=r(1075),ie=r(6616);const oe=(0,q.c)(te,[["render",N],["__scopeId","data-v-002e919c"]]),ae=oe;L()(te,"components",{QSpace:re.c,QImg:ie.c});var ne=function(e,t,r,i){var o,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(n=(a<3?o(n):a>3?o(t,r,n):o(t,r))||n);return a>3&&n&&Object.defineProperty(t,r,n),n},le=function(e,t,r,i){function o(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,a){function n(e){try{s(i.next(e))}catch(t){a(t)}}function l(e){try{s(i["throw"](e))}catch(t){a(t)}}function s(e){e.done?r(e.value):o(e.value).then(n,l)}s((i=i.apply(e,t||[])).next())}))};function se(e){return e.products.length>0}function ce(e,t){return e.position-t.position}let de=class extends c.cr{constructor(){super(...arguments),Object.defineProperty(this,"theme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"categories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"loadProductCategories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"loading",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get formattedCategories(){return(0,u.ctR)(this.categories).filter(se).sort(ce).map((e=>Object.assign(Object.assign({},e),{products:e.products.sort(ce)})))}created(){this.getProducts()}getProducts(){return le(this,void 0,void 0,(function*(){this.loading=!0,yield this.loadProductCategories(),this.loading=!1}))}redirectToCatalog(){this.$router.push("/menu")}};de=ne([(0,c.Zq)({components:{MenuHeader:Y,ProductsCatalog:ae},computed:Object.assign(Object.assign({},(0,d.gV)("store",["theme"])),(0,d.gV)("products",["categories"])),methods:Object.assign({},(0,d.ae)("products",["loadProductCategories"]))})],de);const ue=de;var pe=r(7059),ve=r(6904),be=r(704);const me=(0,q.c)(ue,[["render",s]]),fe=me;L()(ue,"components",{QPage:pe.c,QSpinner:ve.c,QDialog:be.c})}}]);
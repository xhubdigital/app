"use strict";(globalThis["webpackChunkhub4u_menu"]=globalThis["webpackChunkhub4u_menu"]||[]).push([[700],{9972:(e,r,t)=>{t.r(r),t.d(r,{default:()=>Fe});var n=t(2444);const o={key:0,class:"full-height flex flex-center"};function i(e,r,t,i,s,l){const c=(0,n.E1)("q-spinner"),d=(0,n.E1)("order-details");return e.loading||!e.order?((0,n.Wz)(),(0,n.An)("div",o,[(0,n.K2)(c,{size:"80px",color:"primary"})])):((0,n.Wz)(),(0,n.Az)(d,{key:1,order:e.order},null,8,["order"]))}var s=t(1144),l=t(1140),c=t(4044);const d={class:"full-height column"},a={class:"q-pa-md q-col-gutter-md"},u={key:0,class:"delivery-prevision"},v={class:"label"},p={class:"time"},f={class:"progress-bar"};function g(e,r,t,o,i,s){const l=(0,n.E1)("order-progress-bar"),g=(0,n.E1)("q-separator"),m=(0,n.E1)("order-delivery-info"),y=(0,n.E1)("order-items"),b=(0,n.E1)("order-summary"),h=(0,n.E1)("order-payment-info"),D=(0,n.E1)("basic-dialog-layout");return(0,n.Wz)(),(0,n.An)("div",d,[(0,n.K2)(D,{title:e.$t("orders.orderDetails"),onBackClick:e.$router.back},{default:(0,n.Ql)((()=>[(0,n.QD)("div",a,[e.isEnded?(0,n.g1)("",!0):((0,n.Wz)(),(0,n.An)("div",u,[(0,n.QD)("div",v,(0,c.WA)(e.$t("Previsão de entrega")),1),(0,n.QD)("div",p,(0,c.WA)(`${e.startTimeFormatted} - ${e.endTimeFormatted}`),1)])),(0,n.QD)("div",f,[(0,n.K2)(l,{order:e.order},null,8,["order"])]),(0,n.QD)("div",null,[(0,n.K2)(g)]),(0,n.QD)("div",null,[(0,n.K2)(m,{order:e.order},null,8,["order"])]),(0,n.QD)("div",null,[(0,n.K2)(g)]),(0,n.QD)("div",null,[(0,n.K2)(y,{order:e.order},null,8,["order"])]),(0,n.QD)("div",null,[(0,n.K2)(g)]),(0,n.QD)("div",null,[(0,n.K2)(b,{order:e.order},null,8,["order"])]),(0,n.QD)("div",null,[(0,n.K2)(g)]),(0,n.QD)("div",null,[(0,n.K2)(h,{order:e.order},null,8,["order"])])])])),_:1},8,["title","onBackClick"])])}var m=t(2564),y=t(8528),b=t(9456),h=t.n(b),D=t(3400),K=t(8204);const O={class:"progress-bar"},P={class:"row q-col-gutter-sm"},Q={class:"col-2"},A={class:"col-5"},W={class:"col-5"},j={class:"status flex items-center"},w={class:"dot flex"},q={class:"label q-py-xs q-px-sm"};function x(e,r,t,o,i,s){const l=(0,n.E1)("q-linear-progress"),d=(0,n.E1)("q-badge");return(0,n.Wz)(),(0,n.An)("div",O,[(0,n.QD)("div",P,[(0,n.QD)("div",Q,[(0,n.K2)(l,(0,n.Gu)({rounded:"",size:"md"},e.pendingStatus),null,16)]),(0,n.QD)("div",A,[(0,n.K2)(l,(0,n.Gu)({rounded:"",size:"md"},e.productionStatus),null,16)]),(0,n.QD)("div",W,[(0,n.K2)(l,(0,n.Gu)({rounded:"",size:"md"},e.deliveryStatus),null,16)])]),(0,n.QD)("div",j,[(0,n.QD)("div",w,[(0,n.K2)(d,{color:e.color,rounded:""},null,8,["color"])]),(0,n.QD)("div",q,(0,c.WA)(e.label),1)])])}var $=t(9952),z=function(e,r,t,n){var o,i=arguments.length,s=i<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,r,t,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(i<3?o(s):i>3?o(r,t,s):o(r,t))||s);return i>3&&s&&Object.defineProperty(r,t,s),s};class R extends s.cr{constructor(){super(...arguments),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get status(){return this.order.status}get color(){return{[D.K4.Pending]:"primary",[D.K4.Production]:"primary",[D.K4.Delivering]:"primary",[D.K4.Done]:"positive",[D.K4.Cancelled]:"negative"}[this.status]}get label(){const e=(0,$.un)("",["cancelReason"],this.order);return{[D.K4.Pending]:this.$t("orders.statusPending"),[D.K4.Production]:this.$t("orders.statusProduction"),[D.K4.Delivering]:this.$t("orders.statusDelivering"),[D.K4.Done]:this.$t("orders.statusDone"),[D.K4.Cancelled]:this.$t("orders.statusCancelled",{reason:e})}[this.status]}get pendingStatus(){return{color:this.color,indeterminate:{[D.K4.Pending]:!0,[D.K4.Production]:!1,[D.K4.Delivering]:!1,[D.K4.Done]:!1,[D.K4.Cancelled]:!1}[this.status],value:{[D.K4.Pending]:0,[D.K4.Production]:1,[D.K4.Delivering]:1,[D.K4.Done]:1,[D.K4.Cancelled]:1}[this.status]}}get productionStatus(){return{color:this.color,indeterminate:{[D.K4.Pending]:!1,[D.K4.Production]:!0,[D.K4.Delivering]:!1,[D.K4.Done]:!1,[D.K4.Cancelled]:!1}[this.status],value:{[D.K4.Pending]:0,[D.K4.Production]:1,[D.K4.Delivering]:1,[D.K4.Done]:1,[D.K4.Cancelled]:1}[this.status]}}get deliveryStatus(){return{color:this.color,indeterminate:{[D.K4.Pending]:!1,[D.K4.Production]:!1,[D.K4.Delivering]:!0,[D.K4.Done]:!1,[D.K4.Cancelled]:!1}[this.status],value:{[D.K4.Pending]:0,[D.K4.Production]:0,[D.K4.Delivering]:1,[D.K4.Done]:1,[D.K4.Cancelled]:1}[this.status]}}}z([(0,m.e)({required:!0})],R.prototype,"order",void 0);var k=t(8716),C=t(6107),E=t(9104),I=t(5252),S=t.n(I);const T=(0,k.c)(R,[["render",x]]),F=T;S()(R,"components",{QLinearProgress:C.c,QBadge:E.c});const _={class:"row items-center"},G={class:"col-auto q-pr-md"},B={class:"col"},H={class:"text-bold"};function Z(e,r,t,o,i,s){const l=(0,n.E1)("q-avatar");return(0,n.Wz)(),(0,n.An)("div",_,[(0,n.QD)("div",G,[(0,n.K2)(l,{color:"primary","text-color":"white",icon:e.isDelivery?"mdi-map-marker":"mdi-walk"},null,8,["icon"])]),(0,n.QD)("div",B,[(0,n.QD)("div",null,(0,c.WA)(e.label),1),(0,n.QD)("div",H,(0,c.WA)(e.address),1)])])}var L=t(5704),V=function(e,r,t,n){var o,i=arguments.length,s=i<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,r,t,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(i<3?o(s):i>3?o(r,t,s):o(r,t))||s);return i>3&&s&&Object.defineProperty(r,t,s),s};let Y=class extends s.cr{constructor(){super(...arguments),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get isDelivery(){return this.order.type===D.aO.Delivery}get label(){return this.isDelivery?"Endereço de entrega":"Endereço de retirada"}get address(){const e=this.isDelivery?this.order.address:this.store.address;return(0,L.S)(e)}};V([(0,m.e)({required:!0})],Y.prototype,"order",void 0),Y=V([(0,s.Zq)({computed:Object.assign({},(0,y.gV)("store",["store"]))})],Y);const M=Y;var U=t(3632);const J=(0,k.c)(M,[["render",Z]]),N=J;S()(M,"components",{QAvatar:U.c});const X={class:"header"},ee={class:"order-items q-col-gutter-md"},re={class:"flex items-center no-wrap"},te={class:"flex items-center no-wrap"},ne={class:"quantity"},oe={class:"product-name"},ie={class:"q-pl-sm"},se={key:0};function le(e,r,t,o,i,s){const l=(0,n.E1)("q-space");return(0,n.Wz)(),(0,n.An)("div",null,[(0,n.QD)("div",X,(0,c.WA)(e.$t("Itens do pedido")),1),(0,n.QD)("div",ee,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(e.order.items,(r=>((0,n.Wz)(),(0,n.An)("div",{key:r.product.id,class:"order-item"},[(0,n.QD)("div",re,[(0,n.QD)("div",te,[(0,n.QD)("div",ne,(0,c.WA)(r.quantity),1),(0,n.QD)("div",oe,(0,c.WA)(r.product.label),1)]),(0,n.K2)(l),(0,n.QD)("div",ie,(0,c.WA)(e.$n(e.getItemPrice(r),"currency")),1)]),((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(r.complements,(e=>((0,n.Wz)(),(0,n.An)("div",{key:e.complementGroup.id},[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(e.values,(r=>((0,n.Wz)(),(0,n.An)("div",{key:r.complementGroupOption.id},[e.complementGroup.multiple?((0,n.Wz)(),(0,n.An)(n.ae,{key:0},[(0,n.mY)((0,c.WA)(`${r.quantity}x`),1)],64)):(0,n.g1)("",!0),(0,n.mY)(" "+(0,c.WA)(r.complementGroupOption.label),1)])))),128))])))),128)),r.observations?((0,n.Wz)(),(0,n.An)("div",se,(0,c.WA)(`Observações: ${r.observations}`),1)):(0,n.g1)("",!0)])))),128))])])}var ce=function(e,r,t,n){var o,i=arguments.length,s=i<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,r,t,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(i<3?o(s):i>3?o(r,t,s):o(r,t))||s);return i>3&&s&&Object.defineProperty(r,t,s),s};class de extends s.cr{constructor(){super(...arguments),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getItemPrice(e){const r=e.complements.reduce(((e,r)=>{const t=r.values.reduce(((e,r)=>e+r.quantity*r.price),0);return e+t}),0);return(e.price+r)*e.quantity}}ce([(0,m.e)({required:!0})],de.prototype,"order",void 0);var ae=t(1075);const ue=(0,k.c)(de,[["render",le],["__scopeId","data-v-3feff55e"]]),ve=ue;S()(de,"components",{QSpace:ae.c});const pe={class:"subtotal flex"},fe={class:"service-fee flex"},ge={class:"total flex"};function me(e,r,t,o,i,s){const l=(0,n.E1)("q-space");return(0,n.Wz)(),(0,n.An)("div",null,[(0,n.QD)("div",pe,[(0,n.QD)("div",null,(0,c.WA)(e.$t("Subtotal:")),1),(0,n.K2)(l),(0,n.QD)("div",null,(0,c.WA)(e.$n(e.subtotal,"currency")),1)]),(0,n.QD)("div",fe,[(0,n.QD)("div",null,(0,c.WA)(e.isDelivery?e.$t("Taxa de entrega$t"):e.$t("Taxa de serviço")),1),(0,n.K2)(l),(0,n.QD)("div",null,(0,c.WA)(e.serviceFee?e.$n(e.serviceFee,"currency"):e.$t("Grátis")),1)]),(0,n.QD)("div",ge,[(0,n.QD)("div",null,(0,c.WA)(e.$t("Total:")),1),(0,n.K2)(l),(0,n.QD)("div",null,(0,c.WA)(e.$n(e.total,"currency")),1)])])}var ye=function(e,r,t,n){var o,i=arguments.length,s=i<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,r,t,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(i<3?o(s):i>3?o(r,t,s):o(r,t))||s);return i>3&&s&&Object.defineProperty(r,t,s),s};class be extends s.cr{constructor(){super(...arguments),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get isDelivery(){return this.order.type===D.aO.Delivery}get subtotal(){return this.order.subTotal}get serviceFee(){return this.order.serviceFee||0}get total(){return this.subtotal+this.serviceFee}}ye([(0,m.e)({required:!0})],be.prototype,"order",void 0);const he=(0,k.c)(be,[["render",me],["__scopeId","data-v-0a01bf73"]]),De=he;S()(be,"components",{QSpace:ae.c});const Ke={class:"flex"},Oe={class:"text-bold"};function Pe(e,r,t,o,i,s){const l=(0,n.E1)("q-space");return(0,n.Wz)(),(0,n.An)("div",null,[(0,n.QD)("div",Ke,[(0,n.QD)("div",null,(0,c.WA)(e.$t("Pagamento na entrega:")),1),(0,n.K2)(l),(0,n.QD)("div",Oe,(0,c.WA)(e.paymentOption),1)])])}var Qe=function(e,r,t,n){var o,i=arguments.length,s=i<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,r,t,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(i<3?o(s):i>3?o(r,t,s):o(r,t))||s);return i>3&&s&&Object.defineProperty(r,t,s),s};class Ae extends s.cr{constructor(){super(...arguments),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get paymentOption(){const{paymentInfo:e}=this.order;if(!e)return"";const{type:r,changeFor:t}=e;if(r===D.gn.MoneyOnDelivery){const e=t?`Troco para ${this.$n(t,"currency")}`:"Sem troco";return`Dinheiro - ${e}`}return{[D.gn.CreditCardOnDelivery]:"Cartão de crédito",[D.gn.DebitCardOnDelivery]:"Cartão de débito"}[r]}}Qe([(0,m.e)({required:!0})],Ae.prototype,"order",void 0);const We=(0,k.c)(Ae,[["render",Pe]]),je=We;S()(Ae,"components",{QSpace:ae.c});var we=function(e,r,t,n){var o,i=arguments.length,s=i<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,r,t,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(i<3?o(s):i>3?o(r,t,s):o(r,t))||s);return i>3&&s&&Object.defineProperty(r,t,s),s};let qe=class extends s.cr{constructor(){super(...arguments),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get isEnded(){return this.order.status===D.K4.Cancelled||this.order.status===D.K4.Done}get startTime(){return h()(this.order.expectedConclusion)}get startTimeFormatted(){return this.startTime.format("HH:mm")}get endTimeFormatted(){return this.startTime.clone().add(10,"minutes").format("HH:mm")}close(){this.$router.back()}};we([(0,m.e)({required:!0})],qe.prototype,"order",void 0),qe=we([(0,s.Zq)({components:{BasicDialogLayout:K.c,OrderProgressBar:F,OrderDeliveryInfo:N,OrderItems:ve,OrderSummary:De,OrderPaymentInfo:je},computed:Object.assign({},(0,y.gV)("store",["store"]))})],qe);const xe=qe;var $e=t(880);const ze=(0,k.c)(xe,[["render",g],["__scopeId","data-v-182eeef3"]]),Re=ze;S()(xe,"components",{QSeparator:$e.c});var ke=function(e,r,t,n){var o,i=arguments.length,s=i<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,r,t,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(i<3?o(s):i>3?o(r,t,s):o(r,t))||s);return i>3&&s&&Object.defineProperty(r,t,s),s},Ce=function(e,r,t,n){function o(e){return e instanceof t?e:new t((function(r){r(e)}))}return new(t||(t=Promise))((function(t,i){function s(e){try{c(n.next(e))}catch(r){i(r)}}function l(e){try{c(n["throw"](e))}catch(r){i(r)}}function c(e){e.done?t(e.value):o(e.value).then(s,l)}c((n=n.apply(e,r||[])).next())}))};let Ee=class extends s.cr{constructor(){super(...arguments),Object.defineProperty(this,"loading",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get orderId(){const{id:e}=this.$route.params;return e}created(){this.loadOrder()}mounted(){this.interval=setInterval((()=>{this.reloadOrder()}),1e4)}beforeUnmount(){clearInterval(this.interval)}loadOrder(){return Ce(this,void 0,void 0,(function*(){try{this.loading=!0,this.order=yield(0,l.Kw)(this.orderId),this.loading=!1}catch(e){this.loading=!1}}))}reloadOrder(){return Ce(this,void 0,void 0,(function*(){this.order=yield(0,l.Kw)(this.orderId)}))}};Ee=ke([(0,s.Zq)({components:{OrderDetails:Re}})],Ee);const Ie=Ee;var Se=t(6904);const Te=(0,k.c)(Ie,[["render",i]]),Fe=Te;S()(Ie,"components",{QSpinner:Se.c})}}]);
"use strict";(globalThis["webpackChunkhub4u_menu"]=globalThis["webpackChunkhub4u_menu"]||[]).push([[388],{5388:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ye});var o=r(2444);const n={class:"content"};function s(e,t,r,s,a,d){const l=(0,o.E1)("no-auth-empty-state"),c=(0,o.E1)("loading-orders"),i=(0,o.E1)("no-orders-empty-state"),u=(0,o.E1)("orders-list"),p=(0,o.E1)("q-dialog"),g=(0,o.E1)("router-view");return(0,o.Wz)(),(0,o.An)(o.ae,null,[e.user?e.orders.loading?((0,o.Wz)(),(0,o.Az)(c,{key:1})):0===e.orders.data.length?((0,o.Wz)(),(0,o.Az)(i,{key:2})):((0,o.Wz)(),(0,o.Az)(u,{key:3,orders:e.orderedOrders},null,8,["orders"])):((0,o.Wz)(),(0,o.Az)(l,{key:0})),(0,o.K2)(g,null,{default:(0,o.Ql)((({Component:t})=>[(0,o.K2)(p,{class:"right-side-dialog","model-value":e.$route.meta.isDialog,position:e.$q.screen.lt.sm?"bottom":"right",maximized:"","full-height":"","no-route-dismiss":"",onHide:e.onCloseDialog},{default:(0,o.Ql)((()=>[(0,o.QD)("div",n,[((0,o.Wz)(),(0,o.Az)((0,o.mk)(t)))])])),_:2},1032,["model-value","position","onHide"])])),_:1})],64)}var a=r(1144),d=r(8528),l=r(9952),c=r(1140),i=r(4044);const u={class:"empty-state q-col-gutter-md"},p={class:"text-center title"},g={class:"text-center message"},f={class:"action"};function m(e,t){const r=(0,o.E1)("q-btn"),n=(0,o.E1)("q-page");return(0,o.Wz)(),(0,o.Az)(n,{class:"container q-pa-md q-pa-md-lg flex flex-center"},{default:(0,o.Ql)((()=>[(0,o.QD)("div",u,[(0,o.QD)("div",p,(0,i.WA)(e.$t("orders.notAuthenticated.title")),1),(0,o.QD)("div",g,(0,i.WA)(e.$t("orders.notAuthenticated.message")),1),(0,o.QD)("div",f,[(0,o.K2)(r,{color:"positive",unelevated:"",label:e.$t("orders.notAuthenticated.action"),to:"/sign-in"},null,8,["label"])])])])),_:1})}var v=r(8716),h=r(7059),b=r(9140),y=r(5252),A=r.n(y);const O={},D=(0,v.c)(O,[["render",m],["__scopeId","data-v-7a425c2b"]]),Q=D;function W(e,t){const r=(0,o.E1)("q-spinner"),n=(0,o.E1)("q-page");return(0,o.Wz)(),(0,o.Az)(n,{class:"container q-pa-md q-pa-md-lg flex flex-center"},{default:(0,o.Ql)((()=>[(0,o.K2)(r,{size:"80px",color:"primary"})])),_:1})}A()(O,"components",{QPage:h.c,QBtn:b.c});var z=r(6904);const q={},x=(0,v.c)(q,[["render",W]]),P=x;A()(q,"components",{QPage:h.c,QSpinner:z.c});const K={class:"empty-state q-col-gutter-md"},$={class:"text-center title"},j={class:"text-center message"},E={class:"action"};function k(e,t,r,n,s,a){const d=(0,o.E1)("q-btn"),l=(0,o.E1)("q-page");return(0,o.Wz)(),(0,o.Az)(l,{class:"container q-pa-md q-pa-md-lg flex flex-center"},{default:(0,o.Ql)((()=>[(0,o.QD)("div",K,[(0,o.QD)("div",$,(0,i.WA)(e.$t("orders.noOrders.title")),1),(0,o.QD)("div",j,[(0,o.QD)("div",null,(0,i.WA)(e.$t("orders.noOrders.message",{userName:e.user.name})),1),(0,o.QD)("div",null,(0,i.WA)(e.$t("orders.noOrders.message2")),1),(0,o.QD)("div",null,(0,i.WA)(e.$t("orders.noOrders.message3")),1)]),(0,o.QD)("div",E,[(0,o.K2)(d,{color:"positive",unelevated:"",label:e.$t("orders.noOrders.action"),to:"/menu"},null,8,["label"])])])])),_:1})}var _=function(e,t,r,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(a=(s<3?n(a):s>3?n(t,r,a):n(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a};let w=class extends a.cr{constructor(){super(...arguments),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}};w=_([(0,a.Zq)({computed:Object.assign({},(0,d.gV)("user",["user"]))})],w);const R=w,C=(0,v.c)(R,[["render",k],["__scopeId","data-v-ba1ed3a8"]]),I=C;A()(R,"components",{QPage:h.c,QBtn:b.c});const S={key:0,class:"open-orders q-pb-md"},H={class:"q-col-gutter-md"},L={key:1,class:"history q-col-gutter-md"},N={class:"history-title"},Y={class:"date-label q-pb-md"},Z={class:"q-col-gutter-md"};function B(e,t,r,n,s,a){const d=(0,o.E1)("order-item"),l=(0,o.E1)("q-page");return(0,o.Wz)(),(0,o.Az)(l,{class:"container q-pa-md q-pa-md-lg"},{default:(0,o.Ql)((()=>[e.openedOrders.length>0?((0,o.Wz)(),(0,o.An)("div",S,[(0,o.QD)("div",H,[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e.openedOrders,(e=>((0,o.Wz)(),(0,o.An)("div",{key:e.id},[(0,o.K2)(d,{order:e},null,8,["order"])])))),128))])])):(0,o.g1)("",!0),Object.values(e.groupedOrders).length>0?((0,o.Wz)(),(0,o.An)("div",L,[(0,o.QD)("div",N,(0,i.WA)(e.$t("orders.history")),1),((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e.groupedOrders,((e,t)=>((0,o.Wz)(),(0,o.An)("div",{key:t},[(0,o.QD)("div",Y,(0,i.WA)(t),1),(0,o.QD)("div",Z,[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e,(e=>((0,o.Wz)(),(0,o.An)("div",{key:e.id},[(0,o.K2)(d,{order:e},null,8,["order"])])))),128))])])))),128))])):(0,o.g1)("",!0)])),_:1})}var M=r(2564),T=r(9456),V=r.n(T),G=r(3400);const F={class:"header flex q-col-gutter-xs"},J={class:"date"},U={class:"count"},X={class:"products"},ee={key:0,class:"more-items-label"};function te(e,t,r,n,s,a){const d=(0,o.E1)("q-space"),l=(0,o.E1)("q-separator"),c=(0,o.E1)("router-link");return(0,o.Wz)(),(0,o.Az)(c,{class:"order-item",to:`/orders/${e.order.id}`},{default:(0,o.Ql)((()=>[(0,o.QD)("div",F,[(0,o.QD)("div",J,(0,i.WA)(e.date),1),(0,o.QD)("div",null,(0,i.WA)(e.$t("â€¢")),1),(0,o.QD)("div",{class:(0,i.WN)([e.color,"text-bold"])},(0,i.WA)(e.statusLabel),3),(0,o.K2)(d),(0,o.QD)("div",U,(0,i.WA)(e.$t("orders.cartItems",{count:e.countItems})),1)]),(0,o.K2)(l),(0,o.QD)("div",X,[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e.order.items.slice(0,2),(e=>((0,o.Wz)(),(0,o.An)("div",{key:e.id},(0,i.WA)(e.product.label),1)))),128)),e.order.items.length>2?((0,o.Wz)(),(0,o.An)("div",ee,(0,i.WA)(e.$t("orders.moreItems",{count:e.order.items.length-2})),1)):(0,o.g1)("",!0)])])),_:1},8,["to"])}var re=function(e,t,r,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(a=(s<3?n(a):s>3?n(t,r,a):n(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a};class oe extends a.cr{constructor(){super(...arguments),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get countItems(){return(0,l.ohi)(this.order.items.map((e=>e.quantity)))}get date(){return V()(this.order.createdAt).format("HH:mm")}get color(){return{[G.K4.Pending]:"text-primary",[G.K4.Production]:"text-primary",[G.K4.Delivering]:"text-primary",[G.K4.Done]:"text-positive",[G.K4.Cancelled]:"text-negative"}[this.order.status]}get statusLabel(){const e=(0,l.un)("",["cancelReason"],this.order);return{[G.K4.Pending]:this.$t("orders.statusPending"),[G.K4.Production]:this.$t("orders.statusProduction"),[G.K4.Delivering]:this.$t("orders.statusDelivering"),[G.K4.Done]:this.$t("orders.statusDone"),[G.K4.Cancelled]:this.$t("orders.statusCancelled",{reason:e})}[this.order.status]}}re([(0,M.e)({required:!0})],oe.prototype,"order",void 0);var ne=r(1075),se=r(880);const ae=(0,v.c)(oe,[["render",te],["__scopeId","data-v-9f9e6444"]]),de=ae;A()(oe,"components",{QSpace:ne.c,QSeparator:se.c});var le=function(e,t,r,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(a=(s<3?n(a):s>3?n(t,r,a):n(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a};let ce=class extends a.cr{constructor(){super(...arguments),Object.defineProperty(this,"orders",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}get openedOrders(){return this.orders.filter((e=>e.status!==G.K4.Done&&e.status!==G.K4.Cancelled))}get historicalOrders(){return this.orders.filter((e=>e.status===G.K4.Done||e.status===G.K4.Cancelled))}get groupedOrders(){const e=(0,l.aS)((e=>V()(e.createdAt).format("DD/MM/YYYY")),this.historicalOrders);return e}};le([(0,M.e)({required:!0})],ce.prototype,"orders",void 0),ce=le([(0,a.Zq)({components:{OrderItem:de}})],ce);const ie=ce,ue=(0,v.c)(ie,[["render",B],["__scopeId","data-v-30935a8e"]]),pe=ue;A()(ie,"components",{QPage:h.c});var ge=function(e,t,r,o){var n,s=arguments.length,a=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(a=(s<3?n(a):s>3?n(t,r,a):n(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},fe=function(e,t,r,o){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function a(e){try{l(o.next(e))}catch(t){s(t)}}function d(e){try{l(o["throw"](e))}catch(t){s(t)}}function l(e){e.done?r(e.value):n(e.value).then(a,d)}l((o=o.apply(e,t||[])).next())}))};let me=class extends a.cr{constructor(){super(...arguments),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"orders",{enumerable:!0,configurable:!0,writable:!0,value:{data:[],loading:!1}})}get orderedOrders(){return(0,l.uGn)((0,l.cpR)((0,l.iwI)("createdAt"),this.orders.data))}created(){this.user&&this.loadOrders()}loadOrders(){return fe(this,void 0,void 0,(function*(){try{this.orders.loading=!0,this.orders.data=yield(0,c.kx)(),this.orders.loading=!1}catch(e){this.orders.loading=!1}}))}onCloseDialog(){this.$router.push("/orders")}};me=ge([(0,a.Zq)({components:{NoAuthEmptyState:Q,NoOrdersEmptyState:I,LoadingOrders:P,OrdersList:pe},computed:Object.assign({},(0,d.gV)("user",["user"]))})],me);const ve=me;var he=r(704);const be=(0,v.c)(ve,[["render",s]]),ye=be;A()(ve,"components",{QDialog:he.c})}}]);